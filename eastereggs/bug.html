<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="author" content="Federico Gianno"/>
    <meta property="description" content="Swimmer, Software Engineer and Gamer. Not necessarily in this order."/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="J4NN0"/>
    <meta property="og:url" content="https://j4nn0.github.io/"/>
    <meta property="og:image" content="https://raw.githubusercontent.com/J4NN0/J4NN0.github.io/master/img/avatar/avatar.png"/>
    <meta property="og:description" content="Swimmer, Software Engineer and Gamer. Not necessarily in this order."/>
    <meta name="twitter:card" content=""/>
    <meta name="twitter:site" content="@giannofederico"/>
    <meta name="twitter:creator" content="@giannofederico"/>
    <meta name="twitter:title" content=""/>
    <meta name="twitter:description" content="Swimmer, Software Engineer and Gamer. Not necessarily in this order."/>
    <meta name="twitter:image:src" content="https://raw.githubusercontent.com/J4NN0/J4NN0.github.io/master/img/avatar/avatar.png"/>
    <meta property="profile:username" content="J4NN0"/>

    <title>34573R 366</title>

    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/bug.css" />
    <link rel="shortcut icon" href="../img/icons/bug.png" type="image/x-icon"/>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  </head>
  <body>
    <header>
      <nav class="header">
        <div class="left-nav">
          <a class="underline logo-typewriter" href="/">J4NN0</a>
        </div>
        <div class="right-nav">
          <a href="/software" class="unselected">Software</a>
          <a href="/posts" class="unselected">Posts</a>
          <a href="https://j4nn0.github.io/grassado-food/" class="unselected">Cooking <i class="fa-solid fa-external-link"></i></a>
        </div>
      </nav>
    </header>

    <main>
      <div id="messenger"></div>
    </main>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        var Messenger = function(el) {
            'use strict';
            var m = this;

            m.init = function() {
                m.codeletters = "&#*+%?ยฃ@ยง$";
                m.message = 0;
                m.current_length = 0;
                m.fadeBuffer = false;
                m.messages = [
                    '49 6E 20 6C 6F 6E 65 6C 69 6E 65 73 73 2C 20 74 68 65 20 6C 6F 6E 65 6C 79 20 6F 6E 65 20 65 61 74 73 20 68 69 6D 73 65 6C 66',
                    '69 6E 20 61 20 63 72 6F 77 64 2C 20 74 68 65 20 6D 61 6E 79 20 65 61 74 20 68 69 6D',
                    '4E 6F 77 20 63 68 6F 6F 73 65',
                    '2E'
                ];

                setTimeout(m.animateIn, 100);
            };

            m.generateRandomString = function(length) {
                var random_text = '';
                while (random_text.length < length) {
                    random_text += m.codeletters.charAt(Math.floor(Math.random() * m.codeletters.length));
                }
                return random_text;
            };

            m.animateIn = function() {
                if (m.current_length < m.messages[m.message].length) {
                    m.current_length = m.current_length + 2;
                    if (m.current_length > m.messages[m.message].length) {
                        m.current_length = m.messages[m.message].length;
                    }

                    var message = m.generateRandomString(m.current_length);
                    $(el).html(message);

                    setTimeout(m.animateIn, 20);
                } else {
                    setTimeout(m.animateFadeBuffer, 20);
                }
            };

            m.animateFadeBuffer = function() {
                if (m.fadeBuffer === false) {
                    m.fadeBuffer = [];
                    for (var i = 0; i < m.messages[m.message].length; i++) {
                        m.fadeBuffer.push({
                            c: (Math.floor(Math.random() * 12)) + 1,
                            l: m.messages[m.message].charAt(i)
                        });
                    }
                }

                var do_cycles = false;
                var message = '';

                for (var i = 0; i < m.fadeBuffer.length; i++) {
                    var fader = m.fadeBuffer[i];
                    if (fader.c > 0) {
                        do_cycles = true;
                        fader.c--;
                        message += m.codeletters.charAt(Math.floor(Math.random() * m.codeletters.length));
                    } else {
                        message += fader.l;
                    }
                }

                $(el).html(message);

                if (do_cycles === true) {
                    setTimeout(m.animateFadeBuffer, 50);
                } else {
                    setTimeout(m.cycleText, 2000);
                }
            };

            m.cycleText = function() {
                m.message = m.message + 1;
                if (m.message >= m.messages.length) {
                    m.message = 0;
                }

                m.current_length = 0;
                m.fadeBuffer = false;
                $(el).html('');

                setTimeout(m.animateIn, 200);
            };

            m.init();
        };

        console.clear();
        var messenger = new Messenger($('#messenger'));
    </script>

    <footer class="footer">
      <span>Swimmer, Software Engineer and Gamer. Not necessarily in this order.</span>
    </footer>

    <!---
        01101000 01100101 01111000 01100001 01100100 01100101 01100011 01101001 01101101 01100001 01101100
    -->

  </body>
</html>
